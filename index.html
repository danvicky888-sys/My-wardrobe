<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>æˆ‘çš„æ•¸ä½è¡£æ«ƒ - é€²éšç‰ˆ</title>
    <style>
        :root { --primary: #6c5ce7; --bg: #f4f7f6; --accent: #a29bfe; --danger: #ff7675; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); padding: 20px; color: #2d3436; max-width: 900px; margin: auto; }
        
        /* è¡¨å–®æ¨£å¼ */
        .add-box { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin-bottom: 25px; display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
        input, select { padding: 10px; border: 1px solid #ddd; border-radius: 8px; }
        .input-name { flex: 2; min-width: 150px; }
        
        /* å»ºè­°å€ */
        .suggestion-box { background: linear-gradient(135deg, #6c5ce7, #a29bfe); color: white; padding: 25px; border-radius: 15px; margin-bottom: 30px; text-align: center; position: relative; }
        
        /* åˆ†é¡æŒ‰éˆ• */
        .stats-container { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .category-btn { 
            padding: 10px 18px; border: none; border-radius: 20px; 
            background: #fff; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: 0.2s;
        }
        .category-btn.active { background: var(--primary); color: white; }
        .category-btn span { margin-left: 6px; font-weight: bold; background: rgba(0,0,0,0.1); padding: 2px 8px; border-radius: 10px; font-size: 0.8em; }

        /* è¡£ç‰©å¡ç‰‡ */
        .item-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 15px; }
        .item-card { 
            background: white; padding: 15px; border-radius: 12px; text-align: center; 
            position: relative; border-bottom: 4px solid var(--accent); transition: 0.2s;
        }
        .delete-btn { 
            position: absolute; top: 5px; right: 5px; background: none; border: none; 
            color: var(--danger); cursor: pointer; font-size: 1.2em; display: none;
        }
        .item-card:hover .delete-btn { display: block; }
        .color-dot { display: inline-block; width: 12px; height: 12px; border-radius: 50%; border: 1px solid #ddd; margin-right: 5px; }

        .btn-main { background: var(--primary); color: white; padding: 10px 20px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

    <h2 style="text-align: center;">ğŸ‘— æˆ‘çš„æ•¸ä½è¡£æ«ƒ (ç®¡ç†ç‰ˆ)</h2>

    <div class="add-box">
        <strong>æ–°å¢ï¼š</strong>
        <input type="text" id="new-item-name" class="input-name" placeholder="åç¨± (å¦‚ï¼šäºéº»è¥¯è¡«)">
        <select id="new-item-category">
            <option value="ä¸Šè£">ä¸Šè£</option>
            <option value="ä¸‹è£">ä¸‹è£</option>
            <option value="å¤–å¥—">å¤–å¥—</option>
            <option value="é…ä»¶">é…ä»¶</option>
        </select>
        <select id="new-item-color">
            <option value="ç™½è‰²">âšª ç™½è‰²</option>
            <option value="é»‘è‰²">âš« é»‘è‰²</option>
            <option value="è—è‰²">ğŸ”µ è—è‰²</option>
            <option value="ç´…è‰²">ğŸ”´ ç´…è‰²</option>
            <option value="ç¶ è‰²">ğŸŸ¢ ç¶ è‰²</option>
            <option value="å¤§åœ°è‰²">ğŸªµ å¤§åœ°è‰²</option>
        </select>
        <button class="btn-main" onclick="addItem()">åŠ å…¥</button>
    </div>

    <div class="suggestion-box">
        <h3 style="margin-top: 0;">ğŸ’¡ ä»Šæ—¥ç©¿æ­éˆæ„Ÿ</h3>
        <div id="suggestion-result" style="font-size: 1.2em; margin-bottom: 15px; font-weight: bold;">æº–å‚™å¥½å‡ºé–€äº†å—ï¼Ÿ</div>
        <button class="btn-main" style="background: white; color: var(--primary);" onclick="generateOutfit()">éš¨æ©ŸæŒ‘ä¸€å¥—</button>
    </div>

    <div id="category-tags" class="stats-container"></div>

    <div id="item-list" class="item-grid"></div>

<script>
    // é è¨­è³‡æ–™
    let myWardrobe = [
        { id: 1, name: "ç™½è‰²ç´ T", category: "ä¸Šè£", color: "ç™½è‰²", colorCode: "#ffffff" },
        { id: 2, name: "å–®å¯§ç‰›ä»”è¤²", category: "ä¸‹è£", color: "è—è‰²", colorCode: "#3498db" }
    ];

    const categoryTypes = ["ä¸Šè£", "ä¸‹è£", "å¤–å¥—", "é…ä»¶"];
    let currentFilter = "å…¨éƒ¨";

    // é¡è‰²å°æ‡‰è¡¨ (ç°¡å–®è™•ç†é¡¯ç¤ºé¡è‰²)
    const colorMap = { "ç™½è‰²": "#ffffff", "é»‘è‰²": "#2d3436", "è—è‰²": "#3498db", "ç´…è‰²": "#e74c3c", "ç¶ è‰²": "#27ae60", "å¤§åœ°è‰²": "#a1887f" };

    function init() {
        renderAll();
    }

    function renderAll() {
        renderCategoryButtons();
        renderItemList();
    }

    // æ–°å¢
    function addItem() {
        const name = document.getElementById('new-item-name');
        const cat = document.getElementById('new-item-category');
        const col = document.getElementById('new-item-color');

        if (!name.value) return alert("è«‹è¼¸å…¥åç¨±");

        myWardrobe.push({
            id: Date.now(),
            name: name.value,
            category: cat.value,
            color: col.value,
            colorCode: colorMap[col.value]
        });

        name.value = "";
        renderAll();
    }

    // åˆªé™¤
    function deleteItem(id) {
        if (confirm("ç¢ºå®šè¦åˆªé™¤é€™ä»¶è¡£æœå—ï¼Ÿ")) {
            myWardrobe = myWardrobe.filter(item => item.id !== id);
            renderAll();
        }
    }

    function renderCategoryButtons() {
        const container = document.getElementById('category-tags');
        let html = `<button class="category-btn ${currentFilter === 'å…¨éƒ¨' ? 'active' : ''}" onclick="setFilter('å…¨éƒ¨')">å…¨éƒ¨ <span>${myWardrobe.length}</span></button>`;

        categoryTypes.forEach(cat => {
            const count = myWardrobe.filter(item => item.category === cat).length;
            html += `<button class="category-btn ${currentFilter === cat ? 'active' : ''}" onclick="setFilter('${cat}')">${cat} <span>${count}</span></button>`;
        });
        container.innerHTML = html;
    }

    function setFilter(cat) {
        currentFilter = cat;
        renderAll();
    }

    function renderItemList() {
        const list = document.getElementById('item-list');
        const filtered = currentFilter === "å…¨éƒ¨" ? myWardrobe : myWardrobe.filter(i => i.category === currentFilter);

        list.innerHTML = filtered.map(item => `
            <div class="item-card">
                <button class="delete-btn" onclick="deleteItem(${item.id})">â“§</button>
                <div style="font-size: 2em; margin-bottom: 5px;">${getEmoji(item.category)}</div>
                <div style="font-size: 0.85em; color: #666; margin-bottom: 5px;">
                    <span class="color-dot" style="background: ${item.colorCode}"></span>${item.color}
                </div>
                <strong>${item.name}</strong>
            </div>
        `).join('');
    }

    function getEmoji(cat) {
        return { "ä¸Šè£": "ğŸ‘•", "ä¸‹è£": "ğŸ‘–", "å¤–å¥—": "ğŸ§¥", "é…ä»¶": "ğŸ§¢" }[cat] || "âœ¨";
    }

    // ç©¿æ­å»ºè­° (åŒ…å«é¡è‰²æè¿°)
    function generateOutfit() {
        const tops = myWardrobe.filter(i => i.category === "ä¸Šè£");
        const bottoms = myWardrobe.filter(i => i.category === "ä¸‹è£");

        if (tops.length === 0 || bottoms.length === 0) {
            document.getElementById('suggestion-result').innerText = "âš ï¸ ç¼ºå°‘ä¸Šè£æˆ–ä¸‹è£ï¼Œç„¡æ³•æ­é…";
            return;
        }

        const top = tops[Math.floor(Math.random() * tops.length)];
        const bottom = bottoms[Math.floor(Math.random() * bottoms.length)];
        
        document.getElementById('suggestion-result').innerHTML = `
            ç©¿ä¸Šé€™å¥—ï¼š<span style="text-decoration: underline;">${itemToString(top)}</span> 
            é… 
            <span style="text-decoration: underline;">${itemToString(bottom)}</span>
        `;
    }

    function itemToString(item) {
        return `${item.color}${item.name}`;
    }

    window.onload = init;
</script>
</body>
</html>
